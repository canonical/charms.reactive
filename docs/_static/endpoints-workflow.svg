<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="570px" height="252px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.167 Safari/537.36&quot; version=&quot;8.3.1&quot; editor=&quot;www.draw.io&quot; type=&quot;google&quot;&gt;&lt;diagram&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g transform="translate(0.5,0.5)"><rect x="80.5" y="66" width="104" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(118.5,87.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="28" height="16" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 28px; white-space: nowrap; word-wrap: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">SET<br />'joined'<br /></div></div></foreignObject><text x="14" y="12" fill="#000000" text-anchor="middle" font-size="8px" font-family="Helvetica" font-weight="bold">[Not supported by viewer]</text></switch></g><path d="M 240 211 L 195.12 211" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 186.12 211 L 195.12 206.5 L 195.12 215.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(212.5,209.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="11" height="7" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">No</div></div></foreignObject><text x="6" y="8" fill="#000000" text-anchor="middle" font-size="8px" font-family="Helvetica" font-weight="bold">No</text></switch></g><path d="M 265 186 L 265 131.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 265 122.12 L 269.5 131.12 L 260.5 131.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(258.5,153.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="14" height="7" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">Yes</div></div></foreignObject><text x="7" y="8" fill="#000000" text-anchor="middle" font-size="8px" font-family="Helvetica" font-weight="bold">Yes</text></switch></g><path d="M 264.5 186 L 289.5 211 L 264.5 236 L 239.5 211 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 257 198.5 L 264.5 208 L 272 198.5 L 274 201.25 L 266.73 211 L 274 220.75 L 272 223.5 L 264.5 214 L 257 223.5 L 255 220.75 L 262.24 211 L 255 201.25 Z" fill="#000000" stroke="none" pointer-events="none"/><g transform="translate(228.5,243.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="72" height="7" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">any remote unit left?</div></div></foreignObject><text x="36" y="8" fill="#000000" text-anchor="middle" font-size="8px" font-family="Helvetica">any remote unit left?</text></switch></g><path d="M 510 176 L 510 211 L 300.12 211" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 291.12 211 L 300.12 206.5 L 300.12 215.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 264.5 71 L 289.5 96 L 264.5 121 L 239.5 96 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="265" cy="96" rx="12.5" ry="12.5" fill="none" stroke="#000000" pointer-events="none"/><ellipse cx="265" cy="96" rx="10.5" ry="10.5" fill="none" stroke="#000000" pointer-events="none"/><path d="M 257 93.76 L 264.5 88.25 L 272 93.76 L 269.23 102.38 L 259.77 102.38 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 185 96 L 229.88 96" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 238.88 96 L 229.88 100.5 L 229.88 91.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 290 96 L 320 96 L 320 51 L 340.88 51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 349.88 51 L 340.88 55.5 L 340.88 46.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 290 96 L 320 96 L 320 146 L 339.88 146" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 348.88 146 L 339.88 150.5 L 339.88 141.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 510 21 L 510 9 L 265 9 L 265 60.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 265 69.88 L 260.5 60.88 L 269.5 60.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="449.5" y="21" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(491.5,42.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="36" height="16" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 38px; white-space: nowrap; word-wrap: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">SET<br />'changed'<br /></div></div></foreignObject><text x="18" y="12" fill="#000000" text-anchor="middle" font-size="8px" font-family="Helvetica" font-weight="bold">SET&lt;br&gt;'changed'&lt;br&gt;</text></switch></g><path d="M 401 51 L 439.88 51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 448.88 51 L 439.88 55.5 L 439.88 46.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 400 146 L 439.88 146" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 448.88 146 L 439.88 150.5 L 439.88 141.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="449.5" y="116" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(451.5,124.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="116" height="43" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 116px; white-space: normal; word-wrap: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">SET<br />'departed'<br /><span style="font-weight: normal"><i><br />add departed unit to relation.all_departed_units</i></span><br /></div></div></foreignObject><text x="58" y="26" fill="#000000" text-anchor="middle" font-size="8px" font-family="Helvetica" font-weight="bold">[Not supported by viewer]</text></switch></g><ellipse cx="26" cy="96" rx="25" ry="25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(0.5,128.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="49" height="7" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">First unit joins</div></div></foreignObject><text x="25" y="8" fill="#000000" text-anchor="middle" font-size="8px" font-family="Helvetica">First unit joins</text></switch></g><path d="M 51 96 L 70.88 96" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 79.88 96 L 70.88 100.5 L 70.88 91.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="26" cy="211" rx="25" ry="25" fill="none" stroke="#000000" stroke-width="3" pointer-events="none"/><rect x="80.5" y="181" width="104" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(118.5,202.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="28" height="16" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 28px; white-space: nowrap; word-wrap: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">CLEAR<br />'joined'<br /></div></div></foreignObject><text x="14" y="12" fill="#000000" text-anchor="middle" font-size="8px" font-family="Helvetica" font-weight="bold">[Not supported by viewer]</text></switch></g><path d="M 81 211 L 61.12 211" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 52.12 211 L 61.12 206.5 L 61.12 215.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6.5,16.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="226" height="7" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; font-style: italic;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Note: all flags are prefixed with 'endpoint.{endpoint-name}.'</div></div></foreignObject><text x="113" y="8" fill="#666666" text-anchor="middle" font-size="8px" font-family="Helvetica" font-weight="bold" font-style="italic">Note: all flags are prefixed with 'endpoint.{endpoint-name}.'</text></switch></g><ellipse cx="376" cy="51" rx="25" ry="25" fill="none" stroke="#000000" pointer-events="none"/><ellipse cx="376" cy="51" rx="23" ry="23" fill="none" stroke="#000000" pointer-events="none"/><rect x="358" y="41" width="35" height="20" fill="none" stroke="#000000" pointer-events="none"/><path d="M 358 41 L 375.5 51 L 393 41" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(345.5,83.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="60" height="25" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;"><span>remote unit joins</span><br /><span>or published new</span><br /><span>relation data</span></div></div></foreignObject><text x="30" y="17" fill="#000000" text-anchor="middle" font-size="8px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><ellipse cx="375" cy="146" rx="25" ry="25" fill="none" stroke="#000000" pointer-events="none"/><ellipse cx="375" cy="146" rx="23" ry="23" fill="none" stroke="#000000" pointer-events="none"/><path d="M 359.5 157 L 375 128.5 L 390.5 157 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(341.5,178.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="66" height="16" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">remote unit<br />leaves relationship</div></div></foreignObject><text x="33" y="12" fill="#000000" text-anchor="middle" font-size="8px" font-family="Helvetica">remote unit&lt;br&gt;leaves relationship</text></switch></g></g></svg>